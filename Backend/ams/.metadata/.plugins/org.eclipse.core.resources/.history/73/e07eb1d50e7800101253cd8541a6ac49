package com.cognizant.ams.Model.POJO;

import jakarta.persistence.*;
import java.time.LocalDate;

@Entity
@Table(name = "tbl_admission_status")
public class AdmissionStatus {

    @Id
    @Column(name = "studentid", length = 10)
    private String studentID;

    // --- THIS IS THE FIX ---
    // The attributes 'insertable=false' and 'updatable=false' have been removed.
    // This now allows JPA to correctly save the student ID when a new status is created.
    @OneToOne
    @JoinColumn(name = "studentid", referencedColumnName = "studentid")
    private StudentRegistration studentRegistration;

    @ManyToOne
    @JoinColumn(name = "courseid", referencedColumnName = "courseID")
    private CourseMaster course;

    @Column(name = "approved_date")
    private LocalDate approvedDate;

    @Column(name = "concession")
    private Integer concession;

    @Column(name = "status", nullable = false)
    private String status;

    // Getters and Setters (No changes here)
    public String getStudentID() { return studentID; }
    public void setStudentID(String studentID) { this.studentID = studentID; }
    public StudentRegistration getStudentRegistration() { return studentRegistration; }
    public void setStudentRegistration(StudentRegistration studentRegistration) { this.studentRegistration = studentRegistration; }
    public CourseMaster getCourse() { return course; }
    public void setCourse(CourseMaster course) { this.course = course; }
    public LocalDate getApprovedDate() { return approvedDate; }
    public void setApprovedDate(LocalDate approvedDate) { this.approvedDate = approvedDate; }
    public Integer getConcession() { return concession; }
    public void setConcession(Integer concession) { this.concession = concession; }
    public String getStatus() { return status; }
    public void setStatus(String status) { this.status = status; }
}